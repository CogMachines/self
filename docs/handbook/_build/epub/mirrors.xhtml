<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>4.7. Mirrors</title>
    
    <link rel="stylesheet" href="_static/epub.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" /> 
  </head>
  <body role="document">

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <div class="section" id="mirrors">
<h1>4.7. Mirrors</h1>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">collection</span>
    <span class="n">mirror</span>
        <span class="n">mirrors</span> <span class="n">smallInt</span>
        <span class="n">mirrors</span> <span class="nb">float</span>
        <span class="n">mirrors</span> <span class="n">vectorish</span>
            <span class="n">mirrors</span> <span class="n">vector</span>
            <span class="n">mirrors</span> <span class="n">byteVector</span>
                <span class="n">mirrors</span> <span class="n">canonicalString</span>
                <span class="n">mirrors</span> <span class="n">mirror</span>
        <span class="n">mirrors</span> <span class="n">block</span>
        <span class="n">mirrors</span> <span class="n">method</span>
        <span class="n">mirrors</span> <span class="n">blockMethod</span>
            <span class="n">mirrors</span> <span class="n">activation</span> <span class="n">liveOnes</span>
                <span class="n">mirrors</span> <span class="n">activation</span>
                    <span class="n">mirrors</span> <span class="n">deadActivation</span>
                    <span class="n">mirrors</span> <span class="n">methodActivation</span>
                    <span class="n">mirrors</span> <span class="n">blockMethodActivation</span>
        <span class="n">mirrors</span> <span class="n">process</span>
        <span class="n">mirrors</span> <span class="n">assignment</span>
        <span class="n">mirrors</span> <span class="n">slots</span>
        <span class="n">mirrors</span> <span class="n">profiler</span>
</pre></div>
</div>
<p>Mirrors allow programs to examine and manipulate objects. (Mirrors get their name from the fact
that a program can use a mirror to examine—that is, reflect upon—itself.) A mirror on an object x
is obtained by sending the message <code class="docutils literal"><span class="pre">reflect:</span></code> x to any object that inherits <code class="docutils literal"><span class="pre">defaultBehavior</span></code>.
The object x is called the mirror’s <em>reflectee</em>. A mirror behaves like a keyed collection whose keys
are slot names and whose values are mirrors on the contents of slots of the reflectee. A mirror can
be queried to discover the number and names of the slots in its reflectee, and which slots are parent
slots. A mirror can be used to add and remove slots of its reflectee. Iterating through a mirror enumerates
objects representing slots of the reflected object (such facets are called “fake” slots). For
example, a method mirror includes fake slots for the method’s byte code and literal vectors and elements
of vectors and byteVectors.</p>
<p>There is one kind of mirror for each kind of object known to the virtual machine: small integers,
floats, canonical strings, object and byte vectors, mirrors, blocks, ordinary and block methods, ordinary
and block method activations, processes, profilers, the assignment primitive, and ordinary
objects (called “slots” because an ordinary object is just a set of slots). The prototypes for these
mirrors are part of the initial Self world that exists before reading in any script files. The file
<code class="docutils literal"><span class="pre">init.self</span></code> moves these prototypes to the <code class="docutils literal"><span class="pre">mirrors</span></code> subcategory of the <code class="docutils literal"><span class="pre">prototypes</span></code> category of
the <code class="docutils literal"><span class="pre">lobby</span></code> namespace. Because <code class="docutils literal"><span class="pre">mirrors</span></code> is not a parent slot, the names of the mirror prototypes
always include the <code class="docutils literal"><span class="pre">“mirrors”</span></code> prefix.</p>
<p>Modules: mirror, slot, init</p>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
  </body>
</html>